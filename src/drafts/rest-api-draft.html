include "../includes/head.html"

<!-- Blog Posts -->
<section>
    <main>
        <div class="row">
            <div class="small-12 small-centered columns">

                <!-- Article -->
                <article class="clearfix card shadow-1">
                    <div class="content small-12 columns">
                        <h3>Introdução</h3>

                        <p>
                            Hoje em dia, APIs Web estão dominando o mercado de TI e crescendo cada vez mais devido a sua facilidade de adesão.
                            Fabricar sistemas apenas para ser acessado pelo navegador não atingirá 100% do mercado.
                            Aplicativos desenvolvidos para facilitar o cotidiano das pessoas estão presentes desde smartphones,
                            tablets, smartwatches e até mesmo <a href="https://itunes.apple.com/us/app/tesla-model-s/id582007913?mt=8" target="_blank">carros</a>.<br />
                            Portanto criar um sistema que possa ser acessado por diversos dispositivos diferentes fará uma grande diferença para seu negócio.
                        </p>

                        <h3>O poder da Web</h3>
                        <p>
                            Expor sua API de forma correta na Web não é um trabalho fácil. Mas caso você consiga (e te ajudarei nisso), seu
                            sistema será independente de plataforma, região, fácil de ser testado e o mais importante, seus clientes irão
                            gostar de integrar com seus serviços, atraindo cada vez mais receita para seu negócio.
                        </p>

                        <p>
                            Aplicativos Windows, sites em PHP, iPhones e relógios inteligentes serão capazes de utilizar seu serviço,
                            além do velho e bom amigo navegador (IE, Chrome, Firefox).
                        </p>

                        <p>
                            A tarefa não é fácil, mas vou apresentar 7 dicas para criar uma API escalável, robusta e de fácil manutenção.
                        </p>

                        <h3>As 7 dicas de ouro</h3>

                        <h4>1. Utilize o protocolo HTTP</h4>
                        <p>
                            Se existe um termo que está aumentando exponencialmente na área de TI é RESTful (vamor deixar <a
                                href="http://martinfowler.com/articles/microservices.html"
                                target="_blank">micro-serviços</a> para um próximo post).
                            <a href="http://roy.gbiv.com/" target="_blank"> Roy Fielding</a> foi a primeira pessoa a introduzir o conceito, em sua tão famosa dissertação
                            <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm" target="_blank">"Architectural Styles and
                                the Design of Network-based Software Architectures"</a>.
                        </p>

                        <p>
                            Utilizar o HTTP como protocolo e REST como padrão de arquitetura para sua API. Isso lhe trará uma série de benefícios, como facilidade de uso (todo browser implementa o protocolo),
                            segurança, cache, escalabilidade e <a href="https://pt.wikipedia.org/wiki/Manutenibilidade"
                                                                  target="_blank"> manutenibilidade</a>.
                        </p>

                        <h4>2. Abuse e use dos conceitos RESTful</h4>
                        <p>
                            O REST girá em torno de seus recursos. Ele manda você construir sua API em recursos que são manipulados através dos métodos HTTP, cada qual com sua função.<br />
                            Os <strong>recursos</strong> devem ser substantivos e devem fazer sentido para seus clientes. Não exponha recursos que não serão necessários.
                        </p>

                        <h4>3. Mantenha as URLs pequenas e concisas</h4>
                        <p>
                            Ninguém gosta de métodos com nomes gigantes, sem sentido ou que precisem de comentários para serem entendidos. Por que fazer isso com sua API?
                        </p>
                        <p>
                            Crie URLs curtas e que sejam de fácil entendimento. Se beneficie dos métodos HTTP GET, POST, PUT, DELETE, PATCH para indicar sua ação. Veja alguns exemplos <strong>REAIS</strong>.
                        </p>

                        <ul>
                            <li>GET /usuarios/1 - Busca o usuário de ID 1</li>
                            <li>GET /usuarios/1/playlists/9 - Busca a playlist 9 do usuário 1</li>
                            <li>POST /playlists - Cria uma nova playlist</li>
                        </ul>

                        <p>Agora veja os mesmos casos de uma forma incorreta. Consegue encontrar quantos erros existem nas URLs abaixo?</p>
                        <ul>
                            <li>GET /buscarUsuariosPorParam?idUser=1 - Busca o usuário de ID 1</li>
                            <li>GET /usuarios/buscarPlaylists/9?idUser=1 - Busca a playlist 9 do usuário 1</li>
                            <li>GET /playlists/criar - Cria uma nova playlist</li>
                        </ul>

                        <h4>4. Use JSON sempre que possível</h4>
                        <p>A representação dos seus recursos deve ser em formato JSON. Se JSON for impossível de implementar, volte para o XML. Tome cuidado com qualquer outro tipo de exposição.</p>
                        <pre>
{
    "id": 1,
    "nome": "Matheus",
    "site": "POGnotFound.com"
}
                        </pre>
                        <p>O JSON possui uma série de vantagens sobre o XML.</p>
                        <ul>
                            <li>XML é díficil de ser lido por seres humanos. (Lembre-se nos seus clientes).</li>
                            <li>Normalmente o XML é mais pesado, portanto, mais lento para ser interpretado pela máquina e transferido pela rede.</li>
                            <li>JSON está sendo adotado por todo o mundo.</li>
                            <li>Mapear seus recursos em XML pode lhe trazer algumas dúvidas em relação a atributos ou elementos.</li>
                        </ul>

                        <p>JSON lhe permite escalar sua API sem afetar os antigos clientes. Incluir campos a mais em seu recurso não deve impactar os clientes que jã estão utilizando sua API. O que nos remete ao próximo item.</p>

                        <h4>5. Nunca versione</h4>
                        <p>
                            Muitos artigos descrevem como e quando versionar sua API. Afinal, ao fazer qualquer alteração no contrato JSON, você não quer mandar seus antigos clientes atualizarem as pressas suas aplicações.<br />
                            Muitos parsers de JSON já suportam a funcionalidade de ignorar atributos desconhecidos, portanto, desde que você não altere os campos antigos, incluir novos atributos não deve ser um problema.
                        </p>

                        <p><strong>Mas e se você não tiver escolha?</strong> Vejamos um exemplo de uma cafeteira de grãos :</p>
                        <pre>
GET /cafeteiras/1
{
    id: 1,
    nome: "Cafeteira Elétrica Simples POG Edition",
    cafe: 500.00
}
                        </pre>
                        <p>
                            Esse JSON indica que a cafeteira possui 500 gramas de café. Mas nossa equipe de produtos desenvolveu uma cafeteira multigrãos que possui um compartimento para mais de um tipo de café.
                            Nossa API deve ser alterada. Incluir um campo novo, chamado de cafe2, pode ser uma solução, mas não a mais elegante.
                        </p>
<pre>
GET /cafeteiras/2
{
    id: 2,
    nome: "Cafeteira Elétrica Simples POG Edition",
    cafe: 500.00
    cafe2: 500.00
}

</pre>

                        <p>Ao invés disso precisamos criar uma estrutura de dados melhor para o campo cafe.</p>
<pre>
GET /cafeteiras/2
{
    id: 2,
    nome: "Cafeteira Elétrica MultiGrãos POG Edition",
    cafe: [
        {
            quantidade: 500.00,
            tipo: "Cafe Moido Zalita"
        },
        {
            quantidade: 500.00,
            tipo: "Cafe Gourmet++"
        }
    ]
}
</pre>

                        <p>
                            Mas como fazer isso sem versionamento? Se o seu recurso foi alterado drasticamente, como no nosso caso, ele não represente mais o mesmo recurso.
                            Ele deve ser mapeado e construído como um novo recurso e com isso, uma nova URL. Sendo assim, os dois recursos viverão para sempre no ciclo de vida da sua API, não afetando antigos nem novos clientes.
                        </p>
<pre>
GET /cafeteiras/multigraos/10
</pre>

                        <h4>6. Documentação</h4>
                        <p>Uma API sem documentação não é uma boa API. Seja claro e mostre exemplos completos e reais de requisições da sua API.</p>

                        <p>Utilize softwares para geração automática e gerenciamento de sua documentação como por exemplo o
                            <a href="https://apigee.com/about/" target="_blank"> Apigee</a> e <a href="http://swagger.io/" target="_blank">Swagger</a></p>

                        <p>Uma vez que sua API se tornou pública, mantenha o changelog em sua documentação, seja transparente em casos de falhas e indique futuras alteraçoes.</p>


                        <p>Construir uma SDK para utilização de sua API também é uma boa, apesar do alto custo de desenvolvimento.</p>

                        <h4>Utilize sua API !</h4>
                        <p>Você já deve ter ouvido falar que desenvolvimento de software não é uma ciência exata. Por isso, utilize sua API, fique do outro lado da moeda e seja o cliente da sua API. Peça feedback, mantenha um canal ativo
                        com seus clientes-desenvolvedores para melhorar ainda mais sua API. Pense (e pense bastante) antes de disponibilizá-la para o público. Conceitos como segurança, caching, autenticação, tráfego de rede,
                        latencia, entre outros, devem ser analisados e testados. </p>

                        <h3>Inspire-se</h3>
                        <p>Selecionei alguns exemplos de APIs mundialmente famosas para você se basear e ter algumas ídeias.</p>
                        <ul>
                            <li><a href="https://developers.facebook.com/docs/graph-api/overview/" target="_blank">Facebook API</a></li>
                            <li><a href="https://dev.twitter.com/overview/documentation" target="_blank">Twitter API</a> </li>
                            <li><a href="https://developer.github.com/v3/" target="_blank"> Github API</a></li>
                            <li><a href="http://apidev.accuweather.com/developers/" target="_blank"> Accuweather API</a></li>
                        </ul>

                        <!--
                        <p>
                            Podemos imaginar uma API para uma cafeteira elétrica, essas de colocar a capsúla.
                        </p>
                        <p><strong>Protocolo: </strong> Manual. O usuário utiliza das mãos para se comunicar com o sistema cafeteira.</p>
                        <p><strong>Rotinas: </strong> Funções da cafeteira.</p>
                        <ul>
                            <li>Ligar</li>
                            <li>Desligar</li>
                            <li>Escolher nível de água</li>
                            <li>Preparar bebida</li>
                            <li>Inserir a cápsula</li>
                            <li>Retirar as cápsulas</li>
                        </ul>
                        -->

                        <h4></h4>

                    </div>

                </article>
            </div>
        </div>
    </main>
</section>